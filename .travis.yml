language: node_js
node_js:
- '4'
notifications:
  email: false
services:
- mongodb
env:
  global:
  - NODE_ENV: test
addons:
  sauce_connect: true
before_install:
- npm install -g bower@1.3
- npm install -g grunt-cli@0.1
- npm install -g karma-cli@0.0
- npm install -g protractor@1.5
- webdriver-manager update
- bower install
before_script:
- node test/data.js
- grunt minifica
- node server &
- sleep 10
script:
- karma start config/karma.config.js --single-run --browsers PhantomJS
- protractor config/protractor.js
before_deploy:
- git config --global user.email 'travis@travis-ci.com'
- git config --global user.name 'Travis CI'
- git checkout $TRAVIS_BRANCH
- git add --all
- git commit -am "Travis commit"
deploy:
  provider: heroku
  api_key:
    secure: gpsUcK3SPpQ2AKBzVSy+5JgDKTgq4QsQKqSQxwMikRyYhbrFHLYmqfAxjHSerwi6GZtuSFuWbrYCKc7Gu6IMtOpc4VxxGfCtKhvPI7/JNO/aBiHVEhqLzHs1aKQifUTSFZ8BXY68mxXdk3dFhwLEBgAhZ275Rpfvh46JrYJPHJd2Gla3ZqkWWgVYNCQmq6vNRR9LsUwbUlGmhGZ3Mgb2u+IPbeR1+T+hL6ddbwKLIfbGDfnLa2Rg96rwGoHy0Bc+JaZgSz4F7hAPHHtO7ZHMVZGn45BuDrVChh79gSZMnXPARaIh28byhrFsG3NAbLqx5lEU2l0zThNFBD03qYiWztZac0Jx1HP3Au0K4ynQxXyDADUdwq8fGyPP/jundwEJTentYa9CvTeEpopt0+LKh91/bZLgDDRVVk6MdPCqsMCmiZD2OrTtP+ca/c8fnh7Tk9NZmvaFBGO5DEZfbLie183vyRxY1rwfXMXMENOG+kIrUyUfzdhPk2cXSTBbgC+Hky7D3KPfRrbniF0Zn78PdfLLMtGA+Hm7A+bnP8e5Ds9QHgOLAs6Lw18wnsWv15yw7ieXLVRhZS4kex4Fw6XTfrC1btQx8CMeKZyI+KMn8zPf4KSXIuYgTvYtxtiZ1lpVeHm/TV6DC2lkOqOSu6CMlMXDnd4z6Vf9bn8WG1Uwn1c=
  app: mean-001-cdc-contatooh
  on:
    repo: edersonlrf/mean-001-cdc-contatooh
